export default {
    name: "Exploit Tester (SQLi)",

    render(container) {
        const urlInput = document.createElement("input");
        urlInput.placeholder = "Target URL (POST endpoint)";

        const payloadInput = document.createElement("input");
        payloadInput.placeholder = "SQL payload (e.g. ' OR '1'='1)";

        const button = document.createElement("button");
        button.textContent = "Send Payload";

        const pre = document.createElement("pre");

        button.onclick = async () => {
            const response = await fetch("/exploit", {
                method: "POST",
                body: new URLSearchParams({
                    target: urlInput.value,
                    payload: payloadInput.value
                })
            });

            const result = await response.json();
            pre.textContent = result.response || result.error || `Status: ${result.status}`;
        };

        container.appendChild(urlInput);
        container.appendChild(payloadInput);
        container.appendChild(button);
        container.appendChild(pre);
    }
};
